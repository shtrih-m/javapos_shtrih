	
********************************************************************************

  Project : SHTRIH-M JavaPOS fiscal printer driver
  Company : SHTRIH-M www.shtrih-m.ru (495) 787-6090
  Url     : https://github.com/shtrih-m/javapos_shtrih
    
********************************************************************************

  29.04.2022
  deviceServiceVersion = 1013650

  [-] Fixed error with receipt item discount
  
********************************************************************************

  21.04.2022
  deviceServiceVersion = 1013648

  [-] Fixed error header printing
  [-] Fixed error with receipt item discount
  [-] Fixed extended error code 299 to JPOS_E_TIMEOUT

********************************************************************************

  14.04.2022
  deviceServiceVersion = 1013647

  [-] Fixed error with slow receipt printing
  
********************************************************************************

  05.04.2022
  deviceServiceVersion = 1013646

  [-] Fixed error with receipt item adjustments
  
********************************************************************************

  11.02.2022
  deviceServiceVersion = 1013642

  [-] Added result check for operation tags 
  [-] Changed defaut value of parameter tagsBeforeItem to false
  
********************************************************************************

  03.02.2022
  deviceServiceVersion = 1013641

  [-] Added fix for fiscal storage message header, 
      field "P-protocol version" changed from 0x0102 to 0x0120 
      if header has no checksum
  
********************************************************************************

  01.02.2022
  deviceServiceVersion = 1013640

  [-] Fixed error with logo printing
  
********************************************************************************

  27.01.2022
  deviceServiceVersion = 1013639

  [-] Return price correction in printRecItem method
	  
********************************************************************************

  15.12.2021
  deviceServiceVersion = 1013638

  [+] Added command 0xFF61 timeout correction on driver start.
      If command 0xFF61 timeout less than KM server timeout, 
	  driver will set command 0xFF61 timeout to KM server timeout + 1 second.
	  
  [+] Added directIO commands to set command timeout
  [+] Added command timeout parameter to jpos.xml. Example:
      <prop name="commandTimeoutFF61" type="String" value="12345"/>
  [+] Added directIO commands to change amount factor and quantity factor
  
********************************************************************************

  09.11.2021
  deviceServiceVersion = 1013637

  [+] Changed date time correction routine
  
********************************************************************************

  03.11.2021
  deviceServiceVersion = 1013636

  [+] Added correction receipt support and sample
  
********************************************************************************

  28.10.2021
  deviceServiceVersion = 1013635

  [-] Fixed error with device disconnect
  
********************************************************************************

  19.10.2021
  deviceServiceVersion = 1013634

  [-] Fixed error with quantityCorrectionEnabled parameter
  [-] Fixed error with read TLV document to the end
  [-] Fixed error with receipt item price
  
********************************************************************************

  08.10.2021
  deviceServiceVersion = 1013633

  [-] Fixed error with graphics wider than 512 pixels
	  
********************************************************************************

  24.08.2021
  deviceServiceVersion = 1013631

  [-] Fixed error with correction receipt tags, 
      directIO command SMFPTR_DIO_PRINT_CORRECTION2

********************************************************************************

  19.08.2021
  deviceServiceVersion = 1013630

  [-] Fixed error with command 0xFF61, changed parameters ranges

********************************************************************************

  23.07.2021
  deviceServiceVersion = 1013629

  [-] Fixed error with waiting for print end

********************************************************************************

  22.07.2021
  deviceServiceVersion = 1013628

  [+] Added tag 2115 processing
  [-] Fixed tag 2108 printing

********************************************************************************

  16.07.2021
  deviceServiceVersion = 1013627

  [+] Added tag TAG_NAME and TAG_VALUE to receipt template
  
********************************************************************************

  30.06.2021
  deviceServiceVersion = 1013626

  [-] Fixed error with continue print command
  
********************************************************************************

  17.06.2021
  deviceServiceVersion = 1013625

  [+] Added parameter tags tagsBeforeItem, default value true.

********************************************************************************

  17.06.2021
  deviceServiceVersion = 1013624

  [-] Device search available for portType=0 only

  [-] Changed Bluetooth device connection to support portName as device prefix
      Now portName can hold device MAC address or device name prefix
      Example: portName="30:AE:A4:96:14:1E"
      Example: portName="SHTRIH-NANO-F"

  [+] Added stopping FS data sending thread in method beginFiscalReceipt
      and starting it back in endFiscalRecepit and ResetPrinter

********************************************************************************

  08.06.2021
  deviceServiceVersion = 1013623

  [-] Fixed error with tag 1162 printing

********************************************************************************

  03.06.2021
  deviceServiceVersion = 1013622

  [+] Added parameter "quantityFormat" to define format in receipt template
      Default value is "0.000000". For 3 digits format must be "0.000"

********************************************************************************

  26.05.2021
  deviceServiceVersion = 1013621

  [-] Fixed error with tags 1085 and 1086 printing
  [+] Added tag 2108 processing directIO SMFPTR_DIO_CHECK_ITEM_CODE
  [+] Added directIO command SMFPTR_DIO_MC_CLEAR_BUFFER to clear 
      code check results buffer in fiscal storage

********************************************************************************

  11.05.2021
  deviceServiceVersion = 1013620

  [-] Fixed error with receipt item duplication
  [-] Fixed error with tag printing

********************************************************************************

  04.05.2021
  deviceServiceVersion = 1013619

  [-] Fixed error with receipt item duplication

********************************************************************************

  28.04.2021
  deviceServiceVersion = 1013618

  [-] Fixed error with prining operation tags
  [+] Added directIO command to add item codes, SMFPTR_DIO_ADD_ITEM_CODE


********************************************************************************

  16.04.2021
  deviceServiceVersion = 1013617

  [-] Fixed error with modelParameters error
  
  [+] Added directIO command to check marking codes
		SMFPTR_DIO_SAVE_MC_NOTIFICATIONS,
		SMFPTR_DIO_CHECK_ITEM_CODE2,
		SMFPTR_DIO_SYNC_REGISTERS,
		SMFPTR_DIO_FS_READ_MEM_SIZE,
		SMFPTR_DIO_FS_WRITE_TLV_BUFFER,
		SMFPTR_DIO_FS_READ_RANDOM_DATA,
		SMFPTR_DIO_FS_AUTHORIZE,
		SMFPTR_DIO_FS_READ_MC_STATUS,
		SMFPTR_DIO_FS_START_READ_MC_NOTIFICATIONS,
		SMFPTR_DIO_FS_READ_MC_NOTIFICATION
  
********************************************************************************

  05.04.2021
  deviceServiceVersion = 1013616

  [-] Fixed error with marking code check
  [+] Added flex command definitions commands.xml

********************************************************************************

  01.04.2021
  deviceServiceVersion = 1013615

  [+] Added FS 1.2 tag definitions
  [+] Added marking code check

********************************************************************************

  18.03.2021
  deviceServiceVersion = 1013614

  [-] Fixed error with operation TLV transfer before and after operation
  [-] Fixed error with serial port reopening after fiscal printer reboot 
      or after cable reconnect

********************************************************************************

  03.03.2021
  deviceServiceVersion = 1013613

  [+] API level set to 23
  
********************************************************************************

  11.02.2021
  deviceServiceVersion = 1013612

  [-] Fixed error with events delivery

********************************************************************************

  10.02.2021
  deviceServiceVersion = 1013611

 [-] Changed datetime correction procedure

********************************************************************************

  05.02.2021
  deviceServiceVersion = 1013610

  [-] Fixed error with device events
  [-] Fixed error tax amount printing (tax 0 instead of 0xFFFFFFFFFF in 0xFF46 command)

********************************************************************************

  01.02.2021
  deviceServiceVersion = 1013609

  [-] Fixed error with device disconnect

********************************************************************************

  28.01.2021
  deviceServiceVersion = 1013608

  [-] Fixed error with status update events

********************************************************************************

  27.01.2021
  deviceServiceVersion = 1013607

  [-] Fixed error "Read dead end" with BluetoothLEPort class
  [+] Improved command 0xFEF4, Read totalizers value

********************************************************************************

  19.01.2021
  deviceServiceVersion = 1013606

  [-] Fixed error with class BluetoothLEPort
      Driver did not wait for write operation to complete, 
      but Bluetooth communications requires to have only one 
      outstanding operation at a time. Added timeout to write operations. 

  [+] Added BLE search to test application

********************************************************************************

  18.01.2021
  deviceServiceVersion = 1013605

  [-] Fixed error with class BluetoothLEPort

********************************************************************************

  15.01.2021
  deviceServiceVersion = 1013604

  [+] API level set to 25
  [+] Added device search by device name prefix

********************************************************************************

  11.01.2021
  deviceServiceVersion = 1013603

  [+] Fixed issues with port BluetoothLEPort 

********************************************************************************

  24.12.2020
  deviceServiceVersion = 1013602

  [+] Added port BluetoothLEPort to connect to Bluetooth LE device SHTRIH-NANO-F

********************************************************************************

  15.12.2020
  deviceServiceVersion = 1013601

  [+] Added date and time correction before each receipt

********************************************************************************

  18.11.2020
  deviceServiceVersion = 1013600

  [+] Added directIO parameters to read last document date and total with 
      directIO(SMFPTR_DIO_GET_DRIVER_PARAMETER):
      SMFPTR_DIO_PARAM_DOC_DATETIME = 28; // read last document date and time
      SMFPTR_DIO_PARAM_DOC_TOTAL = 29; // read last document total

      If enabled extended format of close receipt v2 command 0xFF45 in T17F36, 
      driver will get document date and time from 0xFF45 answer. If not, 
      driver will read date and time from 0x11 long status request. 

********************************************************************************

  02.11.2020
  deviceServiceVersion = 1013599

  [+] Added receipt template field TAX_AMOUNT for receipt item tax amount

********************************************************************************

  23.10.2020
  deviceServiceVersion = 1013598

  [-] Fixed error with loadImage method ander Android

********************************************************************************

  20.10.2020
  deviceServiceVersion = 1013597

  [-] Fixed error with loadLogo method ander Android

********************************************************************************

  12.10.2020
  deviceServiceVersion = 1013596

  [-] Fixed error with loadLogo method in class ShtrihFiscalPrinter113

********************************************************************************

  06.10.2020
  deviceServiceVersion = 1013595

  [+] Added model class for SHTRIH-NANO-F printer
	  
********************************************************************************

  28.09.2020
  deviceServiceVersion = 1013594

  [+] Added parameter validTimeDiffInSecs in jpos.xml. Default value is 0.
      If validTimeDiffInSecs > 0 driver will correct date before day open.
	  
  [+] Added printer status check before day open and before receipt open 
  
********************************************************************************

  03.06.2020
  deviceServiceVersion = 1013593

  [-] Fixed error with endFiscalReceipt when textReportEnabled = true
  
********************************************************************************

  15.04.2020
  deviceServiceVersion = 1013592

  [-] Fixed error with reboot before day opening when rebootBeforeDayOpen=1
  
********************************************************************************

  16.03.2020
  deviceServiceVersion = 1013591

  [-] Fixed tag 1162 processing by driver (markingType = 1)
  
********************************************************************************

  13.02.2020
  deviceServiceVersion = 1013590

  [-] Changed default value for parameter markingType = 1
	  
********************************************************************************

  12.02.2020
  deviceServiceVersion = 1013589

  [-] Fixed error in waitForPrinting method. If paper present, but cover opened,
      procedure waitForPrinting and driver will hang. 
	  
********************************************************************************

  06.02.2020
  deviceServiceVersion = 1013588

  [+] Added parameter markingType: 0 - tag 1162 maked by printer, 1 - by driver
      Default value: 0
	  
********************************************************************************

  30.01.2020
  deviceServiceVersion = 1013587

  [+] Added parameter rebootBeforeDayOpen for reboot before day open. 
      Default value: false    
  
********************************************************************************

  12.12.2019
  deviceServiceVersion = 1013586

  [-] Fixed description for error 0x32, Fiscal storage I2C CRC error
	  
********************************************************************************

  29.10.2019
  deviceServiceVersion = 1013585

  [+] Added custom fields support for receipt template 
      User can add custom fields to receipt template and 
      then set fields from application by name via directIO commands
      SMFPTR_DIO_GET_RECEIPT_FIELD and SMFPTR_DIO_SET_RECEIPT_FIELD
	  
********************************************************************************

  23.10.2019
  deviceServiceVersion = 1013584

  [-] Changed tag 1162 formation - removed filling serial with spaces
	  
********************************************************************************

  30.09.2019
  deviceServiceVersion = 1013583

  [-] Заменено название параметра FSCombineItemAdjustments на более подходящее, 
      printReceiptItemAsText. Значение по умолчанию: false
  
********************************************************************************

  06.08.2019
  deviceServiceVersion = 1013582

  [+] Добавлен метод запроса типа протокола ККМ
  [+] Добавлен флаг отключения ожидания после печати штрих-кода waitForBarcodePrinting
  
********************************************************************************

  24.07.2019
  deviceServiceVersion = 1013581

  [-] Исправлена ошибка метода printRecItem
  
********************************************************************************

  03.07.2019
  deviceServiceVersion = 1013580

  [*] При рендеринге TLV исправлена ставка НДС с 18% на 20%
  
********************************************************************************

  31.05.2019
  deviceServiceVersion = 1013579

  [-] Исправлен поиск устройства по портам
  
********************************************************************************

  23.04.2019
  deviceServiceVersion = 1013576

  [-] Исправлена ошибка открытия чека
  [-] Исключен дублирующий параметр openReceiptType, 
      нужно использовать параметр openReceiptOnBegin

********************************************************************************

  19.04.2019
  deviceServiceVersion = 1013575
  
  [-] Исправлена ошибка отмены чека
  
********************************************************************************

  15.04.2019
  deviceServiceVersion = 1013574
  
  [-] Исправлена ошибка формирования тега 1162
  [+] Добавлен параметр taxCalculation, значения: 
      0 - налоги вычисляются фискальным регистратором по позициям
      1 - налоги вычисляются драйвером по итогу чека
  
********************************************************************************

  02.04.2019
  deviceServiceVersion = 1013573
  
  [-] Исправлена ошибка записи тегов
  [+] Сделана автоматическая отмена чека при ошибках в методе endFiscalReceipt
  
********************************************************************************

  28.03.2019
  deviceServiceVersion = 1013572
  
  [*] При работе по протоколу 2.0 исправлено безусловное повторение команд при ошибке связи
  
********************************************************************************

  27.03.2019
  deviceServiceVersion = 1013571
  
  [-] Исправлена ошибка, при которой игнорировался результат продажи
  
********************************************************************************

  13.03.2019
  deviceServiceVersion = 1013570
  
  [+] Добавлена команда directIO(SMFPTR_DIO_READ_FS_PARAMS2) для чтения параметров ФН
      Список возвращаемых параметров:
	0 - серийный номер ФН
	1 - РНМ
	2 - кол-во неотправленных ФД
	3 - дата и время самого раннего неотправленного ФД (DDMMYYYYhhmm)
	4 - номер документа последней перерегистрации
	5 - дата и время последней перерегистрации (DDMMYYYYhhmm)
	6 - дата окончания срока действия (DDMMYYYY)
	7 - кол-во чеков за смену
	8 - номер смены
	9 - номер последнего ФД
	10 - дата и время последнего ФД (DDMMYYYYhhmm)
	11 - фискальный признак последнего ФД
	12 - ЗН ККТ
	13 - Модель ФР
	14 - Наименование ОФД
	15 - Адрес сервера ОФД
	16 - № порта
	17 - Таймаут ожидание ответа от ОФД
  
********************************************************************************

  22.02.2019
  deviceServiceVersion = 1013569
  
  [-] Исправлен запрос getData(FPTR_GD_CURRENT_TOTAL) 
  
********************************************************************************

  22.02.2019
  deviceServiceVersion = 1013568
  
  [-] Обновлены библиотеки nrjavaserial и rxtxcomm
	  
********************************************************************************

  22.02.2019
  deviceServiceVersion = 1013567
  
  [+] Добавлены параметры SMFPTR_DIO_PARAM_DOC_NUM и SMFPTR_DIO_PARAM_DOC_MAC
      для запроса номера и ФПД последнего чека
	  
      public static final int SMFPTR_DIO_PARAM_DOC_NUM  = 25;
      public static final int SMFPTR_DIO_PARAM_DOC_MAC  = 26;
  
********************************************************************************

  21.02.2019
  deviceServiceVersion = 1013566
  
  [-] Изменена работа свойства additionalHeader - теперь печатается 
      в методе beginFiscalReceipt в текущем чеке, а не в методе 
	  endFiscalReceipt после клише следующего чека
  
********************************************************************************

  19.02.2019
  deviceServiceVersion = 1013565
  
  [+] Добавлена поддеркжа ШТРИХ-ЭЛВЕС-МФ и ШТРИХ-ЭЛВЕС-МИКРО-Ф
  
********************************************************************************

  18.02.2019
  deviceServiceVersion = 1013564
  
  [+] Добавлена команда directIO(SMFPTR_DIO_SET_DRIVER_PARAMETER, SMFPTR_DIO_PARAM_ITEM_TAX_AMOUNT, ..)
      Команда позволяет задать сумму налога на позицию чека.
  
********************************************************************************

  13.02.2019
  deviceServiceVersion = 1013563
  
  [+] Реализован механизм поиска Bluetooth устройств: если параметр searchByPortEnabled
      выставлен в 1, то драйвер при подключении будет пытаться подключиться ко всем спареным
      устройствам с именем начинающимся на строку указанную в portName
  
********************************************************************************

  08.02.2019
  deviceServiceVersion = 1013562
  
  [-] Исправлена работа параметра postLineAsItemTextEnabled
  
********************************************************************************

  07.02.2019
  deviceServiceVersion = 1013561
  
  [-] Исправлена ошибка записи TLV данных, привязанных к операции

********************************************************************************

  01.02.2019
  deviceServiceVersion = 1013559
  
  [+] Добавлена поддержка маркировки обуви
  
********************************************************************************

  30.01.2019
  deviceServiceVersion = 1013558
  
  [+] Добавлен параметр commandDelayInMs - задержка команды в миллисекундах
  
********************************************************************************

  29.01.2019
  deviceServiceVersion = 1013557
  
  [*] Поправлена установка параметров обмена с ФР
  
********************************************************************************

  28.01.2019
  deviceServiceVersion = 1013556
  
  [*] Исправлен баг с отсутствуем описания критической ошибки КЯ при подключении
  
********************************************************************************

  29.12.2018
  deviceServiceVersion = 1013555
  
  [+] Добавлены устройствонезависимые методы для чтения и записи версии ФФД
  
********************************************************************************

  28.12.2018
  deviceServiceVersion = 1013554
  
  [-] Изменено значение по умолчанию для параметра paymentSumCorrectionEnabled = 1
  
********************************************************************************

  28.12.2018
  deviceServiceVersion = 1013553
  
  [-] Исправлена ошибка загрузки файлов таблиц
  
********************************************************************************

  28.12.2018
  deviceServiceVersion = 1013552
  
  [-] Исправлена ошибка печати графики в подвале чека
  
********************************************************************************

  14.12.2018
  deviceServiceVersion = 1013551
  
  [*] Актуализирован генератор КТН, добавлены табачные изделия и обувь
  
********************************************************************************

  04.12.2018
  deviceServiceVersion = 1013550
  
  [-] Исправлена ошибка двойной печати заголовка в шаблоне чека
********************************************************************************

  30.11.2018
  deviceServiceVersion = 1013549
  
  [+] Доработана работа параметра writeTagMode
  
********************************************************************************

  29.11.2018
  deviceServiceVersion = 1013548
  
  [+] Доработана работа параметра writeTagMode
  
********************************************************************************

  28.11.2018
  deviceServiceVersion = 1013547
  
  [+] Добавлена запись тегов 1085 и 1086
  [+] Добавлен параметр writeTagMode. Возможные значения:
      0 - в том месте, где был вызван, 1 - до позиций чека, 2 - после всех позиций чека
	  
********************************************************************************

  11.10.2018
  deviceServiceVersion = 1013546
  
  [*] По умолчанию отключены механизмы коррекции количества и суммы оплаты.
      ВНИМАНИЕ! Потенциальный BREAKING CHANGE.
  [+] Добавлен параметр paymentSumCorrectionEnabled для включения коррекции суммы
      оплаты
  
********************************************************************************

  10.10.2018
  deviceServiceVersion = 1013545
  
  [*] Обновлен код определения Кассового ядра #53
  
********************************************************************************

  28.09.2018
  deviceServiceVersion = 1013544
  
  [*] Исправлено NRE при вызове методов fsReadDayOpen, fsReadDayClose и fsReadReceipt
      когда в ККТ нет указанных документов
  
********************************************************************************

  24.09.2018
  deviceServiceVersion = 1013543
  
  [-] Исправлено чтение файла  таблиц
  [*] Исправлено управление подключением в протоколе 2.0
  
********************************************************************************

  21.09.2018
  deviceServiceVersion = 1013542
  
  [*] Сделана возможность читать и писать время ФР с секундами. 
      В стандарте UPOS время передается без секунд. Изменена
	  работа методов setDate и getDate.
  
********************************************************************************

  17.09.2018
  deviceServiceVersion = 1013541
  
  [*] Исправлена логика определения открыта ли смена в методе getDayOpened
  
********************************************************************************

  13.09.2018
  deviceServiceVersion = 1013540
  
  [+] Добавлено описание новых тэгов
  [*] Исправлен баг с печатью тэгов без печатного названия
  [*] Поправлена печать тэга 1222
  
********************************************************************************

  04.09.2018
  deviceServiceVersion = 1013539
  
  [+] Добавлен параметр checkItemCodeEnabled, проверять код 
      маркировки товара в ФН или нет. Значение по умолчанию false.
  
********************************************************************************

  04.09.2018
  deviceServiceVersion = 1013538
  
  [-] Исправлена ошибка метода setDate
  [-] Исправлена реализация класса PrinterDate
  [+] Добавлены методы для передачи кода маркировки
  
********************************************************************************

  17.08.2018
  deviceServiceVersion = 1013536
  
  [+] Android: в поддерживаемые USB устройства добавлен идентификатор чипа ШТРИХ-НАНО
	  
********************************************************************************

  14.08.2018
  deviceServiceVersion = 1013535
  
  [+] Сделана отрезка для directIO(SMFPTR_DIO_OPEN_DAY)
  [+] В команду чтения срока действия ФН добавлен возврат количества проведенных
      и оставшихся фискализаций
  [+] tinyJavaPosTester: добавлено юзабилити подключению по USB
  [+] tinyJavaPosTester: все действия теперь логируются в общий с драйвером лог,
      исправлена регистрация USB BroadcastReceiver
	  
********************************************************************************

  09.08.2018
  deviceServiceVersion = 1013534
  
  [+] В команду чтения срока действия ФН добавлен возврат количества оставшихся 
      и проведенных фискализаций
	  
********************************************************************************

  31.07.2018
  deviceServiceVersion = 1013533
  
  [+] Поправлена загрузка файла таблиц
	  
********************************************************************************

  27.07.2018
  deviceServiceVersion = 1013532
  
  [+] Добавлен параметр canDisableNonFiscalEnding для разрешения запрета печати
      конца нефискального документа
	  
  [+] Добавлена возможность добавлять теги в документы открытия и закрытия смены
  
********************************************************************************

  24.07.2018
  deviceServiceVersion = 1013531
  
  [*] В RawCommand добавлена корректна работа с двухбайтными командами
  [*] Исправлено логирование кода двухбайтной команды
  
********************************************************************************

  20.07.2018
  deviceServiceVersion = 1013530
  
  [+] Добавлены теги PRELINE и POSTLINE для использования в шаблоне чека
  
********************************************************************************

  19.07.2018
  deviceServiceVersion = 1013529
  
  [+] Добавлен тег TAX_NAME для использования в шаблоне чека
  
********************************************************************************

  12.07.2018
  deviceServiceVersion = 1013528
  
  [-] Исправлены ошибки в режиме headerMode=1, когда клише печатает сам ФР
  
********************************************************************************

  03.07.2018
  deviceServiceVersion = 1013527
  
  [+] Добавлен параметр postLineAsItemTextEnabled, значение по умолчанию: false
  
********************************************************************************

  29.06.2018
  deviceServiceVersion = 1013526
  
  [+] Добавлено автообновление прошивке с сервера СКоК
  
********************************************************************************

  25.06.2018
  deviceServiceVersion = 1013525
  
  [+] Добавлен параметр footerFlagEnabled, значение по умолчанию: true (включен)
      Этот параметр определяет, можно ли нефискальные строки, которые должны быть
      распечатаны после итога чека, записывать в буфер футера, размер которого 
      ограничен - 128 строк. Буфер футера позволяет перепечатать строки после
      обрыва бумаги. Если нужно напечатать более 128 строк после итога чека, 
      то параметр footerFlagEnabled нужно отключить. 
  
********************************************************************************

  25.06.2018
  deviceServiceVersion = 1013524
  
  [*] Исправлен код проверки открыта ли смена в getDayOpened
  
********************************************************************************

  22.06.2018
  deviceServiceVersion = 1013523
  
  [-] Исправлен класс SalesReceipt
  [-] Поправлена команда SMFPTR_DIO_PRINT_CORRECTION2, чтобы можно было 
      передавать меньшее количество параметров
  
********************************************************************************

  28.05.2018
  deviceServiceVersion = 1013522
  
  [*] Исправлено обновление прошивки DFU
  
********************************************************************************

  28.05.2018
  deviceServiceVersion = 1013521
  
  [*] Ускорено логирование байт протокола обмена с устройством
  [+] Добавлена возможность задавать таймаут
  
********************************************************************************

  22.05.2018
  deviceServiceVersion = 1013520
  
  [+] Добавлен метод записи TLV-структуры привязанной к операции 
  [+] Добавлен генератор кода товарной номенклатуры(КТН)
  [+] Добавлена команда directIO SMFPTR_DIO_READ_EJ_DOCUMENT для чтения 
      документа из ЭКЛЗ
  
********************************************************************************

  28.04.2018
  deviceServiceVersion = 1013519
  
  [+] Добавлена опция fastConnect позволяющая значительно сократить время подключения
      к устройству. Работает только в связке с headerMode = 3.
  [+] Добавлена опция statisticEnabled выключение которой позволит отключить сохранение
      jpos статистики и ускорит работу драйвера.
  [+] Добавлена опция autoOpenShift управляющая автооткрытием смены перед началом чека.
  [+] Добавлена опция forceOpenShiftOnZReport управляющая автооткрытием смены перед печатью 
      Z-отчета, если смена закрыта.
  [*] Исправлена проблема с невозможностью подключиться к устройству, если отсутствует бумага
  [*] Исправлен месяц в дефолтном конструкторе PrinterDate, что приводило к неправильной
      дате после техобнуления.
  [*] Уменьшенов ремя подключения к устройству
  [*] Исправлена ошибка когда openFiscalDay кидал исключение, если заканчивается бумага во 
      время печати отчета об открытии смены
  [*] Исправлена ошибка в логе об отсутствии ЭКЛЗ, когда отсутствует ФН в устройстве
  
  
********************************************************************************

  17.04.2018
  deviceServiceVersion = 1013518
  
  [+] Добавлен параметр в файл jpos.xml printStringDelayInMs. 
      Это задержка в миллисекундах после команд "Печать строки" и "Печать строки шрифтом"
	  
********************************************************************************

  13.04.2018
  deviceServiceVersion = 1013517
  
  [-] Исправлена ошибка при формировании чека
	  
********************************************************************************

  03.04.2018
  deviceServiceVersion = 1013516
  
  [+] В протокол 1.0 добавлено несколько попыток обращения к устройству при 
      таймауте чтения ответа на ENQ

********************************************************************************

  22.03.2018
  deviceServiceVersion = 1013515
  
  [-] Исправлена ошибка отмены позиции чека через printRecVoidItem
  
********************************************************************************

  14.03.2018
  deviceServiceVersion = 1013513
  
  [*] Исправлен баг чтения пароля при отмене документа открытого другим оператором

********************************************************************************

  08.03.2018
  deviceServiceVersion = 1013512
  
  [+] Сделаны значения по умолчанию для тегов 1212 и 1214

********************************************************************************

  07.03.2018
  deviceServiceVersion = 1013511
  
  [+] Добавлено обновление ПО ФР
  [+] Добавлено автоматическое обновление ПО ФР
  
********************************************************************************

  05.03.2018
  deviceServiceVersion = 1013510
  
  [-] Убрано обновление ПО ФР, откат на версию Java 1.6
  
********************************************************************************

  02.03.2018
  deviceServiceVersion = 1013509
  
  [+] Сделана загрузка через DFU
  [-] Исправлена ошибка программирования названий типов оплаты
  
********************************************************************************

  28.02.2018
  deviceServiceVersion = 1013508
  
  [-] Убрано чтение режима начисления скидок на определенных моделях устройств
  [+] Добавлена отправка команда техобнуления когда устройство при подключении 
      присылает 121 ошибку
  [+] Реализован метод updateFirmware
  [*] Исправлено логирование исключений в Logcat
  [+] Добавлены дружелюбные для пользователя методы начала открытия и закрытия 
      смены
  [+] Добавлены методы внесения и выплаты наличных без открытия документа JPOS
  
********************************************************************************

  15.02.2018
  deviceServiceVersion = 1013507
  
  [-] Исправлена ошибка печати логотипа
  
********************************************************************************

  12.02.2018
  deviceServiceVersion = 1013506
  
  [+] Добавлены дружелюбные пользователю методы закрытия фискального режима
  [-] Исправлено наложение текста в СКЛ
  [-] Исправлено отсутствие ошибки при неудачном открытии смены
  [-] Исправлено зависание драйвера в состоянии открытого чека, когда 
      beginFiscalReceipt завершился ошибкой
  
********************************************************************************

  06.02.2018
  deviceServiceVersion = 1013505
  
  [-] Исправлена ошибка чтения параметров
  
********************************************************************************

  06.02.2018
  deviceServiceVersion = 1013504
  
  [-] Исправлена ошибка с несколькими типами оплаты
  
********************************************************************************

  06.02.2018
  deviceServiceVersion = 1013503
  
  [-] Исправлена ошибка печати скидки
  
********************************************************************************

  02.02.2018
  deviceServiceVersion = 1013502
  
  [-] Исправлена ошибка восстановления после ошибок связи
  
********************************************************************************

  01.02.2018
  deviceServiceVersion = 1013501
  
  [-] Исправлена ошибка восстановления после ошибок связи
  
********************************************************************************

  30.01.2018
  deviceServiceVersion = 1013500
  
  [-] Исправлена ошибка работы с портом SocketPort
  
********************************************************************************

  25.01.2018
  deviceServiceVersion = 1013498
  
  [-] Исправлена ошибка восстановления связи при работе по сети
  
********************************************************************************

  25.01.2018
  deviceServiceVersion = 1013497
  
  [*] Доработано чтение TLV документа на десктопных устройствах #40
  [*] Доработаны методы печати отчета о состоянии расчетов
  [*] Реализована корректная обработка режима 1 при подключении, если устройство 
      выдает TLV документа
  
********************************************************************************

  24.01.2018
  deviceServiceVersion = 1013496
  
  [+] Добавлено чтение описания ошибки из устройства
  [+] Добавлен сеттер для пути к файлам в SysUtils #34
  [*] Исправлена ошибка не позволяющая подключиться к TCP-устройству после первой неудачной попытки
  
********************************************************************************

  23.01.2018
  deviceServiceVersion = 1013495
  
  [+] Добавлена строка "СКИДКА" при регистрации без формата чека
  [-] Поправлена ошибка печати штрихкода
  [+] Добавлено преобразование строк в значение тегов
  
********************************************************************************

  18.01.2018
  deviceServiceVersion = 1013493
  
  [+] Добавлена команда запроса параметров устройства
  
********************************************************************************

  14.01.2018
  deviceServiceVersion = 1013492
  
  [*] Исправлено замедление печати текста после 489 релиза
  
********************************************************************************

  11.01.2018
  deviceServiceVersion = 1013491
  
  [*] В архив Андроид версии драйвера добавлены зависимости
  
********************************************************************************

  December, 26 2017
  deviceServiceVersion = 1013490
  
  [*] Исправлена ошибка невывода лога на Андроид в Logcat 
  [+] Добавлена поддержка команды запроса тэгов фискализации
  
********************************************************************************

  December, 26 2017
  deviceServiceVersion = 1013489
  
  [*] Исправлена печать одномерного штрих-кода на ШТРИХ-MOBILE-Ф
  [*] Ускорено подключение к устройству
  [*] Исправлена печать агентских тэгов в соответствии с ФФД
  [+] На Андроиде настройка logEnabled теперь усправляет выводом лога в Logcat
  
********************************************************************************

  December, 21 2017
  deviceServiceVersion = 1013488
  
  [-] Изменен тип чека возврата с расхода на возврат прихода
  
********************************************************************************

  December, 20 2017
  deviceServiceVersion = 1013487
  
  [-] Исправлена ошибка в методе printRecSubtotal
  
********************************************************************************

  November, 13 2017
  deviceServiceVersion = 1013486
  
  [-] Исправлена ошибка печати printRecMessage в конце чека
  
********************************************************************************

  November, 13 2017
  deviceServiceVersion = 1013479
	
  [+] Added directIO command SMFPTR_DIO_FS_DISABLE_DOCEND to 
      disable document end and paper cut in endFiscalReceipt method
  
********************************************************************************

  November, 2 2017
  deviceServiceVersion = 1013477
	
  [-] Fixed error with printing voided receipts,
      added parameter printVoidedReceipt, default value is false  
  
********************************************************************************

  October 27 2017
  deviceServiceVersion = 1013476
	
  [-] Fixed error with void items
  
********************************************************************************

  October 25 2017
  deviceServiceVersion = 1013475
	
  [-] Fixed error with discount
  
********************************************************************************

  October 19 2017
  deviceServiceVersion = 1013474
	
  [-] Fixed error with double discount
  
********************************************************************************

  October 18 2017
  deviceServiceVersion = 1013473
	
  [-] Removed writing cut mode and drawer mode in tables
  
********************************************************************************

  October 10 2017
  deviceServiceVersion = 1013471
	
  [+] Added EoD support for other then Mobile-F devices
  [*] Fixed long OFD response handling

********************************************************************************

  October 10 2017
  deviceServiceVersion = 1013470
	
  [-] Fixed error with saving properties
  [-] Fixed error with printing receipt header
  
********************************************************************************

  October 08 2017
  deviceServiceVersion = 1013469
	
  [*] Fixed error when writing TLV and receipt not opened
  [+] Added fsWriteTag(int tagId, long value, int length), fsStartCorrectionReceipt() and fsCancelDocument() methods
  
********************************************************************************

  October 07 2017
  deviceServiceVersion = 1013468
	
  [*] Improved BluetoothPort performance in certain circumstances

********************************************************************************

  October 03 2017
  deviceServiceVersion = 1013467
	
  [*] Fixed SMFPTR_DIO_PRINT_CORRECTION2 added result code check

********************************************************************************

  September 22 2017
  deviceServiceVersion = 1013466
	
  [+] Added directIO command SMFPTR_DIO_FS_READ_STATUS = 0x52;
  [+] Added directIO command SMFPTR_DIO_FS_FIND_DOCUMENT = 0x53;
    
********************************************************************************
  September 21 2017
  deviceServiceVersion = 1013465
	
  [+] Added USB device support to Android version
    
********************************************************************************

  September 14 2017
  deviceServiceVersion = 1013464
	
  [*] Fixed generated bar code centering logic
  [-] FSPrintTags: do not print 1084, 1085, 1086, 1203 tags
  [+] Added FSDocumentInfo to make compatibility breakage of fsFindDocument less impactful
  [+] Added directIO commands SMFPTR_DIO_FS_READ_DAY_OPEN, SMFPTR_DIO_FS_READ_DAY_CLOSE and 
      SMFPTR_DIO_FS_READ_RECEIPT 
  [+] Added device serial number caching
  [+] Added new parameters for SMFPTR_DIO_READ_FS_PARAMS
 BREAKING CHANGES:
  [!] FSDocumentInfo: changed getDocumentNumber return value from int to long
  [!] FSDocumentInfo: getDocumentType changed return value from FSDocType to int
  
********************************************************************************

  September 05 2017
  deviceServiceVersion = 1013463
	
  [+] Added ability to print FSTags description when they passed with current font
  
********************************************************************************

  September 04 2017
  deviceServiceVersion = 1013462
	
  [*] Errors suppressed when paper ended after check closed
  [+] Added print continuation DIO-command and method
  [+] Added method fsReadDocumentTLV to allow document TLV reading
  
********************************************************************************

  August 23 2017
  deviceServiceVersion = 1013461
	
  [*] Fixed rext printing with font number in check
  [*] Fixed #20: get rid of hardcoded payment names
  [+] Added printRecMessage overload which accepts font number
  [+] Added property openReceiptOnBegin to enable check opening on beginFiscalReceipt
  [+] Added ability to pass paymentType and subjectType for check position

********************************************************************************

  August 15 2017
  deviceServiceVersion = 1013460
	
  [-] Fixed max payment type number when reading payment type names	

********************************************************************************

  August 14 2017
  deviceServiceVersion = 1013459
	
  [-] Fixed SKL generation when using FSSale command
	
********************************************************************************

  August 3 2017
  deviceServiceVersion = 1013458
	
  [+] Added methods to start/stop and get status of FSService
  [-] Fixed line graphics printing
  [+] Added ability to disable trailer printing completely by setting numTrailerLines = -1

********************************************************************************

  August 2 2017
  deviceServiceVersion = 1013457
	
  [-] Fixed bug when FSService didn't stop after close

********************************************************************************

  July 27 2017
  deviceServiceVersion = 1013456
	
  [-] Fixed crash when FSService enabled on devices without FS
  [-] Fixed bug when close method takes too long
  
********************************************************************************

  July 25 2017
  deviceServiceVersion = 1013455
	
  [+] Added user friendly FS status reading method
  [+] Added user friendly OFD communication status reading method
  [+] Added ability to pass position sum
  [-] Fixed unhandled exception without details
  
********************************************************************************

  July 20 2017
  deviceServiceVersion = 1013454
	
  [-] Added FSPrintRecItem and FSCloseReceipt support to text report
  [-] Fixed text report payment type names
    
********************************************************************************

  July 19 2017, 14:00
  deviceServiceVersion = 1013453
	
  [+] Added feed paper DIO-command
  [-] Separate tag names for customer phone and customer email
  [+] Added ability to set barcode vertical scaling factor
  
********************************************************************************

  July 13 2017, 16:35
  deviceServiceVersion = 1013452
	
  [-] Fixed error "104" on receipt close
  
********************************************************************************

  July 12 2017, 17:35
  deviceServiceVersion = 1013451
	
  [+] Added saving in ZReport.xml dayNumber and FsSerial values 
  [+] Added saving in ZReport.csv dayNumber and FsSerial values 
  
********************************************************************************

  July 11 2017, 17:00
  deviceServiceVersion = 1013450
	
  [-] Fixed error in command 0xFF45, close receipt v2
  [-] Fixed error with printing receipt items with quantity = 0
  
********************************************************************************

  July 7 2017, 19:20
  deviceServiceVersion = 1013448
	
  [+] Added directIO command SMFPTR_DIO_PRINT_CORRECTION
  
********************************************************************************

  July 6 2017, 13:32
  deviceServiceVersion = 1013447
	
  [-] Fixed OFD data sender service
  
********************************************************************************

  July 6 2017, 13:00
  deviceServiceVersion = 1013445
	
  [+] Added parameter quantityCorrectionEnabled 
  
********************************************************************************
  July 6 2017, 3:08
  deviceServiceVersion = 1013444
	
  [+] Added FP to FSFindDocument

********************************************************************************

  July 5 2017, 22:00
  deviceServiceVersion = 1013443
	
  [+] Added receipt type constants
    SMFPTR_RT_SALE      = 100;
    SMFPTR_RT_BUY       = 101;
    SMFPTR_RT_RETSALE   = 102;
    SMFPTR_RT_RETBUY    = 103;
  
********************************************************************************

  June 29 2017, 14:30
  deviceServiceVersion = 1013439
	
  [-] Fixed error with discounts
  
********************************************************************************

  June 26 2017, 11:30
  deviceServiceVersion = 1013438
	
  [-] Fixed error with sale v2 command
  
********************************************************************************

  June 19 2017, 14:00
  deviceServiceVersion = 1013437
	
  [-] Fixed error with receipt items without discounts
  
********************************************************************************

  June 16 2017, 22:20
  deviceServiceVersion = 1013436
	
  [-] Fixed error with receipt item splitting
  
********************************************************************************

  June 11 2017, 21:40
  deviceServiceVersion = 1013433
	
  [+] Added command 0xFF46, print receipt item v2
  [+] Barcode can be printed after receipt end
  
********************************************************************************

  June 5 2017, 17:50
  deviceServiceVersion = 1013430
	
  [-] Fixed errors X5 GKR-14828 and GKR-12406
  
********************************************************************************

  June 2 2017, 12:30
  deviceServiceVersion = 1013429
	
  [-] Fixed error with Z report - error on ZReport printing will be ignored
  [-] Fixed error with receipt header printing
  
********************************************************************************

  May 23 2017, 13:30
  deviceServiceVersion = 1013428
	
  [-] Fixed error with receipt item discount, added parameter 
      FSReceiptItemDiscountEnabled
  
********************************************************************************

  May 15 2017, 19:30
  deviceServiceVersion = 1013427
	
  [-] Fixed error with receipt item discount
  
********************************************************************************

  May 5 2017, 12:50
  deviceServiceVersion = 1013426
	
  [+] Added parameter "combineReceiptItems" to combine receipt items,
      that has equal price and text
	  
  [-] Fixed error with surcharge

********************************************************************************

  April 26 2017, 21:50
  deviceServiceVersion = 1013420
	
  [-] Fixed error with storno
  
********************************************************************************

  April 25 2017, 16:10
  deviceServiceVersion = 1013418
	
  [-] Fixed error with price truncation instead of rounding
  
********************************************************************************

  April 20 2017, 12:55
  deviceServiceVersion = 1013416
	
  [-] Removed parameter FSReceiptItemDiscountEnabled
  
********************************************************************************

  April 17 2017, 14:25
  deviceServiceVersion = 1013415
	
  [-] Fixed error with initialization on firmware prior to 12.04.2017
  
********************************************************************************

  April 13 2017, 23:25
  deviceServiceVersion = 1013414
	
  [-] Fixed error with receipt format
  
********************************************************************************

  April 12 2017, 14:40
  deviceServiceVersion = 1013413
	
  [-] Fixed error with receipt format
  [-] Changed red tickets implementation

********************************************************************************

  April 11 2017, 22:20
  deviceServiceVersion = 1013412
	
  [+] Added DirectIO command SMFPTR_DIO_READ_TOTALS to read printer totalizers

********************************************************************************

  April 11 2017, 18:50
  deviceServiceVersion = 1013411
	
  [-] Fixed error with EAN-13 barcode height on NCR-001K fiscal printer
  [+] Added discount text processing

********************************************************************************

  April 7 2017, 23:10
  deviceServiceVersion = 1013410
	
  [-] Fixed error with receipt format
  [+] Added directIO command SMFPTR_DIO_PRINT_CORRECTION for correction receipt
  
********************************************************************************

  April 3 2017, 18:40
  deviceServiceVersion = 1013407
	
  [-] Fixed error with receipt format
  [-] Fixed error with writing tables
  [-] Fixed error with writing tags 15000, 15001, 15002

********************************************************************************

  April 3 2017, 13:00
  deviceServiceVersion = 1013405
	
  [-] Fixed error "Index out of bounds" on loading properties

********************************************************************************

  April 1 2017, 14:50
  deviceServiceVersion = 1013404
	
  [-] Changed default value of property powerNotify to JPOS_PN_ENABLED
  
********************************************************************************

  March 28 2017, 11:20
  deviceServiceVersion = 1013401
	
  [-] Fix error with quantity receipt item
  
********************************************************************************

  March 23 2017, 22:00
  deviceServiceVersion = 1013400
	
  [-] Fix error with discount in receipt item
  
********************************************************************************

  March 21 2017, 23:30
  deviceServiceVersion = 1013398
	
  [-] Fix error with receipt format
  [+] Add directIO command SMFPTR_DIO_READ_FS_TICKETS
  [+] Add directIO command SMFPTR_DIO_READ_FS_TICKETS2
  
********************************************************************************

  March 15 2017, 15:51
  deviceServiceVersion = 1013396
	
  [+] Added TAX_LETTER tag to ReceiptTemplate
  [+] Added MULT_NE_ONE tag to ReceiptTemplate
  
********************************************************************************

  March 15 2017, 13:30
  deviceServiceVersion = 1013394
	
  [-] Fixed error with last item in printRecItem method
  
********************************************************************************

  March 13 2017, 15:06
  deviceServiceVersion = 1013392
	
  [+] Added stripExceptionDetails parameter
  [+] Added FSSender
  
********************************************************************************

  March 6 2017, 15:42
  deviceServiceVersion = 1013390
	
  [+] Added correction to read cash register
  
********************************************************************************

  March 3 2017, 21:10
  deviceServiceVersion = 1013389
	
  [-] Fixed error with loadLogo method
  
********************************************************************************

  March 2 2017, 12:00
  deviceServiceVersion = 1013386
	
  [-] Fixed error with cash registers 185..188
  
********************************************************************************

  March 1 2017, 20:00
  deviceServiceVersion = 1013385
	
  [-] Fixed error with nonfiscal header
  [-] Fixed error with loading header and trailer
  
********************************************************************************

  February, 27 2017, 16:52
  deviceServiceVersion = 1013384
	
  [-] Fixed error with getData(FPTR_GD_PRINTER_ID)
  
********************************************************************************

  February, 21 2017, 16:51
  deviceServiceVersion = 1013382
	
  [-] Fixed error with barcode printing
  [-] Fixed error with tax printing
  
********************************************************************************

  February, 17 2017, 21:10
  deviceServiceVersion = 1013380
	
  [-] Fixed discount printing
  
********************************************************************************

  February, 16 2017, 14:10
  deviceServiceVersion = 1013379
	
  [-] Fixed error with parameter FSPrintTags
  
********************************************************************************

  February, 16 2017, 12:30
  deviceServiceVersion = 1013378
	
  [-] Fixed error with writing customer email and phone
  
********************************************************************************

  February, 15 2017, 19:30
  deviceServiceVersion = 1013377
	
  [-] Fixed error with header saving
  [-] Fixed error with additional line between items when 
      using template and parameter ItemRowFormat has spaces at the end
  
********************************************************************************

  February, 14 2017, 23:30
  deviceServiceVersion = 1013376
	
  [-] Fixed error with barcode printing
  [-] Fixed error with voided receipt items
  
********************************************************************************

  February, 14 2017, 15:15
  deviceServiceVersion = 1013375
	
  [-] Fixed error with parameters save
  [-] Fixed error with receipt format
  
********************************************************************************

  February, 10 2017, 20:15
  deviceServiceVersion = 1013372
	
  [-] Fixed error with additional header
  [-] Fixed error with refund receipt
  [-] Fixed error logo printing
  [+] Added parameter FieldSeparator as field separator for parameters 
      ItemTableHeader and ItemRowFormat

********************************************************************************

  February, 8 2017, 11:35
  deviceServiceVersion = 1013368
	
  [-] Fixed error with receipt cut on unknown models - removed model.getCapCutter

********************************************************************************

  January, 28 2017, 14:00
  deviceServiceVersion = 1013357
	
  [+] Added parameter fsHeaderEnabled to enable printing of company address
      after receipt header. Default value is false (not printed).

  [+] Added parameter nonFiscalHeaderEnabled to enable or disable document header 
      in nonfiscal receipt

********************************************************************************

  January, 25 2017, 22:50
  deviceServiceVersion = 1013355
	
  [+] Added parameter capJrnPresent. Method getCpJrnPresent 
      returns capJrnPresent and mode.getCapJrnPresent
	  
  [-] Changed directIO command SMFPTR_DIO_READ_FS_PARAMS
	  
********************************************************************************

  January, 24 2017, 19:40
  deviceServiceVersion = 1013353
	
  [+] Added directIO(SMFPTR_DIO_READ_FS_PARAMS) to read fiscal storage params
      public static final int SMFPTR_DIO_READ_FS_PARAMS = 0x3E;
	  
  [-] Fixed error with command "Open receipt"
  
********************************************************************************

  January, 21 2017, 23:00
  deviceServiceVersion = 1013352
	
  [-] Fixed some errors
	  
********************************************************************************

  January, 20 2017, 14:40
  deviceServiceVersion = 1013351
	
  [-] Fixed some errors
	  
********************************************************************************

  January, 18 2017, 21:30
  deviceServiceVersion = 1013349
	
  [-] Fixed error "Socket closed"
  [+] Added directIO code SMFPTR_DIO_SET_DISCOUNT_AMOUNT = 0x3D to
      set receipt discount amount. Works in discount mode 2 only.
  
********************************************************************************

  January, 17 2017, 19:00
  deviceServiceVersion = 1013347
	
  [-] Fixed error with printNormal and printRecMessage
  
********************************************************************************

  January, 13 2017, 19:00
  deviceServiceVersion = 1013345
	
  [-] Fixed error with voided receipt
  
********************************************************************************

  January, 12 2017, 21:45
  deviceServiceVersion = 1013344
	
  [-] Added communication status report to standard Z report
  
********************************************************************************

  January, 11 2017, 20:30
  deviceServiceVersion = 1013340
	
  [-] Fixed error with Socket port sharing
  
********************************************************************************

  January, 11 2017, 16:30
  deviceServiceVersion = 1013339
	
  [+] Added nonfiscal document header printing
  
********************************************************************************

  January, 9 2017, 20:30
  deviceServiceVersion = 1013338
	
  [+] Added exception when tags writed when receipt is closed
  
********************************************************************************

  January, 9 2017, 20:15
  deviceServiceVersion = 1013337
	
  [+] Added document header printing in Nonfiscal document
  
********************************************************************************

  December, 26 2016, 14:23
  deviceServiceVersion = 1013331
	
  [-] Added parameter readDiscountMode 
  
********************************************************************************

  December, 22 2016, 23:58
  deviceServiceVersion = 1013329
	
  [-] Fixed error with "Invalid answer code" error handling
  
********************************************************************************

  December, 20 2016, 20:33
  deviceServiceVersion = 1013328
	
  [-] Fixed error with serial port
  
********************************************************************************

  December, 14 2016, 22:20
  deviceServiceVersion = 1013327
	
  [-] Fixed error with receipt subtotal discount
  
********************************************************************************

  December, 13 2016, 19:30
  deviceServiceVersion = 1013326
	
  [-] Fixed error with socket port reconnect
  
********************************************************************************

  December, 9 2016, 18:50
  deviceServiceVersion = 1013325
	
  [-] Fixed error with TLV string tag encoding
  
********************************************************************************

  December, 7 2016, 18:15
  deviceServiceVersion = 1013324
	
  [-] Fixed error tag prefix names
  [+] Added fiscal storage status request after error 
      0x02, Invalid fiscal storage state
  
********************************************************************************

  December, 6 2016, 13:55
  deviceServiceVersion = 1013322
	
  [-] Fixed error with getDayOpened property
  
********************************************************************************

  December, 5 2016, 22:03
  deviceServiceVersion = 1013321
	
  [+] Added printing TLV values on receipt from fsWriteTLV method
  
********************************************************************************

  December, 2 2016, 23:40
  deviceServiceVersion = 1013320
	
  [-] Fixed error with barcode printing by barcodePrefix
  
********************************************************************************

  November, 22 2016, 19:15
  deviceServiceVersion = 1013318
	
  [+] Fixed position printing in FSSalesReceipt
  
********************************************************************************
  November, 22 2016, 17:10
  deviceServiceVersion = 1013317
	
  [-] Fixed errors
  
********************************************************************************

  November, 14 2016, 15:30
  deviceServiceVersion = 1013313
	
  [+] Print discount text in FSFiscalReceipt
  
********************************************************************************

  November, 10 2016, 16:30
  deviceServiceVersion = 1013312
	
  [-] Property forbidDiscountsFS renamed to FSDiscountEnabled and inverted
  [-] Property allowDiscountsWorkaroundFS renamed to FSReceiptItemDiscountEnabled 
  
********************************************************************************

  November, 8 2016, 19:40
  deviceServiceVersion = 1013311
	
  [-] Fixed error with CODE128 barcode alignment
  
********************************************************************************

  November, 8 2016, 14:10
  deviceServiceVersion = 1013310
	
  [-] Fixed errors with receipt reprint
  
********************************************************************************

  November, 7 2016, 17:54
  deviceServiceVersion = 1013307

  [+] Added new commands to monitoring service  
  [+] New jpos.xml option "forbidDiscountsFS" - to fully forbid all discount capabilities in driver with FS printers
  [+] New jpos.xml option "allowDiscountsWorkaroundFS" - allow discount workaround for some clients with FS printers
  
********************************************************************************
  October, 20 2016, 15:50
  deviceServiceVersion = 1013306
	
  [-] Fixed errors with fiscal receipt
  
********************************************************************************

  October, 13 2016, 23:50
  deviceServiceVersion = 1013305
	
  [+] Compiled with RXTX library
  [+] Added parameter checkTotalEnabled to enable or disable totals compare
  [+] Added parameter receiptNumberRequest to select getData(FPTR_GD_RECEIPT_NUMBER)
      behavior: 
	  0 - getData returns document number
	  1 - getData returns fiscal document number from fiscal storage
	  2 - getData returns receipt number from fiscal storage
  
********************************************************************************

  October, 11 2016, 19:50
  deviceServiceVersion = 1013304
	
  [-] Fixed eror with socket connection
  [-] Fixed error with table writing
  [-] Fixed error with different payment types
  [-] Added directIO command SMFPTR_DIO_PRINT_DOC_END
  
********************************************************************************

  September, 21 2016, 20:40
  deviceServiceVersion = 1013300
	
  [-] Fixed error with power events
  
********************************************************************************

  September, 17 2016, 20:00
  deviceServiceVersion = 1013298
	
  [-] Fixed error with receipt subtotal discounts and charges
  [-] Fixed error with day and receipt number
  [+] Added discounts for receipt items
  [+] Added writing administrator name to setPOSIID method
  [-] Fixed error with socket connection

********************************************************************************

  September, 12 2016, 14:50
  deviceServiceVersion = 1013292
	
  [-] Aded receipt open and cancel when printRecVoid called
      to count cancelled receipts in fiscal printer

********************************************************************************

  September, 11 2016, 20:10
  deviceServiceVersion = 1013290
	
  [-] Fixed errors with fiscal storage receipt
  [-] Fixed error with Socket connection
  
********************************************************************************

  September, 7 2016, 17:50
  deviceServiceVersion = 1013286
	
  [+] Added method fsSale() to class ShtrihFiscalPrinter113
  
********************************************************************************

  August, 31 2016, 20:20
  deviceServiceVersion = 1013285
	
  [+] Added day open command
  [+] Added directIO for writing tag
  
********************************************************************************

  August, 12 2016, 14:20
  deviceServiceVersion = 1013284
	
  [+] Added open fiscal day command before fiscal receipt
  
********************************************************************************

  August, 05 2016, 21:50
  deviceServiceVersion = 1013283
	
  [+] Added fiscal storage commands
  [-] Added error codes text for fiscal storage commands
  
********************************************************************************

  August, 04 2016, 19:30
  deviceServiceVersion = 1013281
	
  [+] Added fiscal storage commands
  [+] Added fiscal storage commands descriptions (commands.xml)
  
********************************************************************************

  July, 12 2016, 22:20
  deviceServiceVersion = 1013279
	
  [-] Fixed error with directIO(SMFPTR_DIO_COMMAND)
  
********************************************************************************

  June, 23 2016, 14:20
  deviceServiceVersion = 1013278
	
  [-] Fixed error with logo loading
  [-] Changed directIO implementation. For compatibility use compatibilityLevel=1
      <!-- Compatibility level, 0 - NONE, 1 - FULL -->
		
      <prop name="compatibilityLevel" type="String" value="0"/>
  

********************************************************************************

  June, 20 2016, 17:00
  deviceServiceVersion = 1013274
	
  [-] Fixed error with logo loading
  
********************************************************************************

  June, 17 2016, 18:40
  deviceServiceVersion = 1013273
	
  [+] Added log to cash drawer service object
  [-] Fixed error with logo loading
  
********************************************************************************

  May, 31 2016, 15:10
  deviceServiceVersion = 1013272
	
  [-] Fixed error 1D barcode printing
  
********************************************************************************

  May, 30 2016, 22:00
  deviceServiceVersion = 1013271
	
  [-] Fixed error with image printing
  
********************************************************************************

  May, 20 2016, 19:30
  deviceServiceVersion = 1013270
	
  [-] Fixed error with fiscalReceiptType property
  
********************************************************************************

  May, 17 2016, 13:40
  deviceServiceVersion = 1013269
	
  [-] Fixed error with graphics printing
  
********************************************************************************

  May, 4 2016, 19:40
  deviceServiceVersion = 1013268
	
  [+] Added barcode parameters to print barcode from 
      printRecMessage or printNormal methods
  
********************************************************************************

  April, 13 2016, 11:20
  deviceServiceVersion = 1013267
	
  [-] Fixed error with device search
  
********************************************************************************

  March, 18 2016, 18:00
  deviceServiceVersion = 1013265
	
  [+] Added 2D barcode support
  
********************************************************************************

  March, 18 2016, 12:20
  deviceServiceVersion = 1013264
	
  [-] Fixed error with GLOBUS receipt type
  
********************************************************************************

  March, 15 2016, 14:20
  deviceServiceVersion = 1013263
	
  [-] Fixed error with GLOBUS receipt type
  
********************************************************************************

  February, 20 2016, 14:33
  deviceServiceVersion = 1013260
	
  [+] Added 0xA1 error handling
  [+] Added "-" sign to amount in storno items for GLOBUS receipt type
  
********************************************************************************

  February, 08 2016, 13:40
  deviceServiceVersion = 1013257
	
  [+] Added parameter "taxLettersEnabled" to enable or disable tax letters on 
      GLOBUS receipt
  
********************************************************************************

  December, 23 2015, 17:40
  deviceServiceVersion = 1013251
	
  [-] Fixed error with graphics printing

********************************************************************************

  November, 13 2015, 17:00
  deviceServiceVersion = 1013238
	
  [-] Fixed error in GLOBUS receipt type

********************************************************************************

  November, 9 2015, 13:30
  deviceServiceVersion = 1013235
	
  [+] Added text line after graphics line barcode for NCR-001K fiscal printer

********************************************************************************

  November, 6 2015, 18:00
  deviceServiceVersion = 1013234
	
  [-] Library rxtx changed to nrjavaserial

********************************************************************************

  November, 2 2015, 17:30
  deviceServiceVersion = 1013231
	
  [-] Fixed error with XML Z report format

********************************************************************************

  August, 20 2015, 13:30
  deviceServiceVersion = 1013220	

  [-] Fixed error with refund receipt
  [-] Fixed error with connection errors
  [-] RXTX code removed, library used

********************************************************************************

  July, 10 2015, 14:30
  deviceServiceVersion = 1013212

  [-] Fixed error with logging
  [-] Changed payment types configuration
  [-] Disabled image printing in printNormal method in nonfiscal receipt

********************************************************************************

  April, 28 2015, 19:10
  deviceServiceVersion = 1013204

  [+] Added handling for errors 0xA0 and 0x67

********************************************************************************

  April, 10 2015, 22:10
  deviceServiceVersion = 1013203

  [-] Fixed errors with printing Globus receipt format
  [+] Added saving fiscal memory totals when Z report saved to file (XML or CSV)

********************************************************************************

  March, 20 2015, 18:30
  deviceServiceVersion = 1013201

  [-] Fixed errors with logo printing
  [+] Added reading Tax names for Globus receipt format
  [+] Added parameter "centerHeader" to automatically center header and trailer lines
  [+] Added fieldsFilesPath parameter to select and load fields file from this path

********************************************************************************

  February, 13 2015, 19:00
  deviceServiceVersion = 1013194

  [-] Fixed errors with logo printing

********************************************************************************

  February, 2 2015, 17:00
  deviceServiceVersion = 1013193

  [-] Fixed error with logo printing

********************************************************************************

  January, 28 2015, 15:00
  deviceServiceVersion = 1013192

  [+] Added printer model ASPD RR-01K

********************************************************************************

  January, 27 2015, 19:40
  deviceServiceVersion = 1013191

  [-] Fixed barcode checksum digit printing

********************************************************************************

  January, 26 2015, 17:40
  deviceServiceVersion = 1013190

  [+] jBarcode library added to project

********************************************************************************

  January, 26 2015, 15:10
  deviceServiceVersion = 1013189

  [-] Fixed error with cash drawer driver

********************************************************************************

  January, 23 2015, 13:40
  deviceServiceVersion = 1013188

  [+] Compiled for Java version 1.4 

********************************************************************************

  January, 22 2015, 11:40
  deviceServiceVersion = 1013187

  [+] Added receipt format processing

********************************************************************************

  December, 15 2014, 12:20
  deviceServiceVersion = 1013186

  [-] Fixed error with ESC codes processing

********************************************************************************

  December, 12 2014, 12:40
  deviceServiceVersion = 1013185

  [-] Fixed error XML loading

********************************************************************************

  December, 9 2014, 22:40
  deviceServiceVersion = 1013184

  [-] Fixed error with JPOS_SUE_POWER_OFFLINE event
      Event was not sent if "No connection" error occured

********************************************************************************

  November, 27 2014, 19:40
  deviceServiceVersion = 1013181

  [-] Changed header and trailer printing

********************************************************************************

  November, 25 2014, 12:45
  deviceServiceVersion = 1013180

  [+] Added automatic trailer printing for fiscal receipts.
      Device polling must be enabled.
      <prop name="pollEnabled" type="String" value="1"/>


  [+] Added parameter in jpos.xml "logoPosition". Valid values are:
      SMFPTR_LOGO_AFTER_HEADER     = 0;
      SMFPTR_LOGO_BEFORE_TRAILER   = 1;
      SMFPTR_LOGO_AFTER_TRAILER    = 2;
      SMFPTR_LOGO_AFTER_ADDTRAILER = 3;
      SMFPTR_LOGO_BEFORE_HEADER    = 4;

********************************************************************************

  October, 16 2014, 20:25
  deviceServiceVersion = 1013177

  [+] Added device 21, YARUS-TK
  [+] Added device 31, CUSTOM-PTK
  [-] Fixed error with loading XML files
  [+] Added ErrorEvent event for printer errors

********************************************************************************

  September, 25 2014, 15:02
  deviceServiceVersion = 1013173

  [-] Fixed error with receipt cut

********************************************************************************

  September, 23 2014, 21:30
  deviceServiceVersion = 1013172

  [-] Fixed error with small font for NCR-001K

********************************************************************************

  August, 21 2014, 12:30
  deviceServiceVersion = 1013169

  [-] Fixed error with XML file encoding

********************************************************************************

  August, 15 2014, 21:00
  deviceServiceVersion = 1013167

  [-] Fixed error with GLOBUS receipt format

********************************************************************************

  July, 24 2014, 18:00
  deviceServiceVersion = 1013161

  [+] Added protocol 2.0 implementation
      To select protocol added parameter "protocolType" to jpos.xml file
      <!-- ProtocolType, 0 - protocol 1, 1 - protocol 2 -->
        
      <prop name="protocolType" type="String" value="0"/>


  [+] Added TCP port to connect to fiscal printer over network
      Added parameter "portType" to select port
      <!--  Port type: 0 - serial, 1 - bluetooth, 2 - socket, 3 - from parameter protClass --> 
      <prop name="portType" type="String" value="2" /> 

  [-] Fixed errors with XML files reading and writing

********************************************************************************

  July, 18 2014, 18:45
  deviceServiceVersion = 1013160

  [+] Added logging Throwable instead of Exception

********************************************************************************

  July, 10 2014, 16:30
  deviceServiceVersion = 1013159

  [-] Fixed errors with printing logo 

********************************************************************************

  June, 23 2014, 13:00
  deviceServiceVersion = 1013157

  [-] Fixed errors with GLOBUS receipt format

********************************************************************************

  June, 20 2014, 20:30
  deviceServiceVersion = 1013156

  [-] Fixed error with openReceipt command

********************************************************************************

  June, 16 2014, 18:30
  deviceServiceVersion = 1013155

  [+] Added date and time parameter to XML receipt report

********************************************************************************

  June, 16 2014, 16:50
  deviceServiceVersion = 1013154

  [+] Added parameter in jpos.xml file "openReceiptType"
      Valid values are: 
      0 - open receipt with first receipt item (printRecItem or printRecItemRefund)
      1 - open receipt in beginFiscalReceipt method

********************************************************************************

  May, 27 2014, 17:40
  deviceServiceVersion = 1013153

  [-] Fixed error with preLine and postLine printing in GLOBUS receipt 

********************************************************************************

  May, 12 2014, 19:00
  deviceServiceVersion = 1013152

  [+] Added handling of error "0xA8, 168, EJ: Invalid date or time"
  [+] Compiled with xerces-2.7.0.jar library

********************************************************************************

  April, 22 2014, 20:00
  deviceServiceVersion = 1013151

  [-] Fixed error with writing payment type names
  [+] Added getData(FPTR_GD_GRAND_TOTAL) request support

********************************************************************************

  April, 4 2014, 17:00
  deviceServiceVersion = 1013149

  [+] Added saving receipt amount to XML file.
      Added parameters to jpos.xml file:
      "receiptReportEnabled" - enable saving data to XML file, default value is 0 (disabled)
      "receiptReportFileName" - XML file name, default value is "ZCheckReport.xml"

********************************************************************************

  March, 20 2014, 19:00
  deviceServiceVersion = 1013147

  [-] Fixed error with GLOBUS receipt printng

********************************************************************************

  March, 7 2014, 20:20
  deviceServiceVersion = 1013146

  [-] Fixed error with Z report printing
  [-] Fixed error with CashIn and CashOut receipts printing
  [-] Fixed error with dayOpened property
  [+] Added command timeout from commands.xml file
  [+] Added monitoring commands support

********************************************************************************

  February 5 2014, 17:00
  deviceServiceVersion = 1013142

  [+] Compiled for Java 1.4

********************************************************************************

  January, 17 2014, 16:00
  deviceServiceVersion = 1013142

  [+] Added "Timeout" parameter to commands.xml to set timeout for each command.

********************************************************************************

  January, 10 2014, 20:30
  deviceServiceVersion = 1013141

  [+] Added CashDrawer jpox.xml parameter "drawerNumber"

  [+] Added CashDrawer directIO codes SMCASH_DIO_GET_DRIVER_PARAMETER, 
      SMCASH_DIO_SET_DRIVER_PARAMETER, SMCASH_DIO_OPEN_DRAWER, 
      SMCASH_DIO_READ_DRAWER_STATE

********************************************************************************

  January, 9 2014, 14:00
  deviceServiceVersion = 1013140

  [-] Fixed "Day opened" issue
  [+] Added NCR-001K printer model

********************************************************************************

  December, 25 2013, 13:00
  deviceServiceVersion = 1013139

  [+] Added GLOBUS text receipt support. For this was added parameter in jpos.xml
      file "salesReceiptType". Valid values are: 0 - normal, 1 - GLOBUS text receipt

********************************************************************************

  November, 27 2013, 16:15
  deviceServiceVersion = 1013138

  [-] Fixed error with rounding and partial payments

********************************************************************************

  October, 21 2013, 16:40
  deviceServiceVersion = 1013137

  [-] Fixed error with reading models
  [-] Fixed error with FreezeEvents property
  [-] Class SerialPort moved to driver package, package SerialPort removed

********************************************************************************

  September, 23 2013, 17:00
  deviceServiceVersion = 1013135

  [+] Added cache for voided receipt items

********************************************************************************

  August, 28 2013, 19:30
  deviceServiceVersion = 1013134

  [-] Changed command timeout
  [-] Fixed error with "dayOpened" property

********************************************************************************

  August, 21 2013, 17:30
  deviceServiceVersion = 1013133

  [-] Fixed error cashin and cashout receipt types

********************************************************************************

  August, 21 2013, 15:20
  deviceServiceVersion = 1013132

  [-] Fixed error with report printing. If report command succeeded, 
      but some error occures on waiting for printing to complete or
      on printing report trailer, this error was reported to application and
      application do not know, if report succeeded or not.
      Now this error do not reported to application. 
      Application knows if report succeeded or not.
      Note that report command can succeed, but report print is not completed
      (for empty paper reson, for example). Report will be printed later.

********************************************************************************

  July, 29 2013, 13:00
  deviceServiceVersion = 1013131

  [-] Fixed error with EndFiscalReceipt method

********************************************************************************

  March, 27 2013, 11:30
  deviceServiceVersion = 1013128

  [-] Fixed error with cutMode parameter
  [+] Added directIO command SMFPTR_DIO_CUT_PAPER
  [+] Added parameter SMFPTR_DIO_PARAM_CUT_MODE to directIO commands 
      SMFPTR_DIO_GET_DRIVER_PARAMETER and SMFPTR_DIO_SET_DRIVER_PARAMETER

********************************************************************************

  March, 1 2013, 16:30
  deviceServiceVersion = 1013127

  [-] Fixed errors
  [+] Added directIO requests

********************************************************************************

  February, 4 2013, 19:00
  deviceServiceVersion = 1013124

  [-] Fixed error in getData(FPTR_GD_DAILY_TOTAL) request. 
      Returned data had no decimal point.

********************************************************************************

  February, 1 2013, 13:50
  deviceServiceVersion = 1013123

  [+] Added optional parameters to getData(FPTR_GD_DAILY_TOTAL)
      Valid values are:
	  SMFPTR_DAILY_TOTAL_ALL  =  0, all payment types
      SMFPTR_DAILY_TOTAL_CASH =  1, cash payment type
      SMFPTR_DAILY_TOTAL_PT2  =  2, payment type 2
      SMFPTR_DAILY_TOTAL_PT3  =  3, payment type 3
      SMFPTR_DAILY_TOTAL_PT4  =  4, payment type 4
	  
  [-] Fixed error with logo printing on SHTRIH-FR-K printer.
	  
********************************************************************************

  January, 28 2013, 20:00
  deviceServiceVersion = 1013122

  [+] Added directIO commands: 
      SMFPTR_DIO_READ_DAY_STATUS,
      SMFPTR_DIO_READ_LICENSE,
      SMFPTR_DIO_IS_READY_FISCAL, 
      SMFPTR_DIO_IS_READY_NONFISCAL

  [+] Added device search on connection error. Added parameter "searchMode"
      in jpos.xml file. Available values are: 0 - none, 
      1 - search on connection error

  [-] Changed getData(FPTR_GD_DAILY_TOTAL) request.

********************************************************************************

  January, 21 2013, 21:00
  deviceServiceVersion = 1013121

  [+] Aded parameter SMFPTR_LOGO_BEFORE_HEADER to print logo before header

********************************************************************************

  January, 10 2013, 18:00
  deviceServiceVersion = 1013120

  [-] Fixed deadlock error in release method when polling thread enabled.

********************************************************************************

  December, 17 2012, 18:00
  deviceServiceVersion = 1013119

  [-] Fixed error in request getData(FPTR_GD_DAILY_TOTAL)

********************************************************************************

  December, 11 2012, 19:00
  deviceServiceVersion = 1013118

  [+] Added parameter cutMode. Valid values are:
      SmFptrConst.SMFPTR_CUT_MODE_AUTO     = 0 - autoselect
      SmFptrConst.SMFPTR_CUT_MODE_DISABLED = 1 - cutting disabled

********************************************************************************

  December, 10 2012, 12:00
  deviceServiceVersion = 1013117

  [+] Added parameter tableMode. Valid values are:
      SmFptrConst.SMFPTR_TABLE_MODE_AUTO     = 0 - autoselect
      SmFptrConst.SMFPTR_TABLE_MODE_DISABLED = 1 - table write disabled

********************************************************************************

  December, 5 2012, 19:40
  deviceServiceVersion = 1013116

  [-] Fixed error with FlexCommand class

********************************************************************************

  November, 27 2012, 13:00
  deviceServiceVersion = 1013115

  [-] Fixed error with command synchronizing

********************************************************************************

  November, 7 2012, 17:00
  deviceServiceVersion = 1013114

  [-] Added buffer for Barcode DirectIO commands

********************************************************************************

  September, 21 2012, 15:00
  deviceServiceVersion = 1013113

  [-] Fixed error with string encoding in printRecMessage method

********************************************************************************

  September, 18 2012, 15:00
  deviceServiceVersion = 1013112

  [-] Fixed error with barcode printing

********************************************************************************

  September, 17 2012, 18:20
  deviceServiceVersion = 1013111

  [-] Fixed error with refund receipts

********************************************************************************

  August, 29 2012, 14:20
  deviceServiceVersion = 1013110

  [-] Fixed error with receipt number request, getData(FPTR_GD_RECEIPT_NUMBER)

********************************************************************************

  August, 8 2012, 21:00
  deviceServiceVersion = 1013109

  [+] Added Discount filter

********************************************************************************

  July, 23 2012, 17:30
  deviceServiceVersion = 1013108

  [+] Added DirectIO commands:
      // Write device parameter
      SMFPTR_DIO_WRITE_DEVICE_PARAMETER = 0x20;
      // Read device parameter
      SMFPTR_DIO_READ_DEVICE_PARAMETER = 0x21;
      Device parameters for any model are stored in file Models.xml

********************************************************************************

  July, 23 2012, 16:00
  deviceServiceVersion = 1013107

  [+] Added jpos.xml file parameter autoOpenDrawer. 
      <prop name="autoOpenDrawer" type="String" value="0" />  
      Driver writes this parameter to printer table 1. 
      If parameter 1, printer opens cash drawer on receipt close.

********************************************************************************

  July, 18 2012, 10:30
  deviceServiceVersion = 1013106

  [-] Fixed error with Z report document number.
      If fiscal day closed, driver prints empty receipt,
      saves registers to file and prints Z report.

********************************************************************************

  July, 13 2012, 19:00
  deviceServiceVersion = 1013105

  [-] Fixed error with device search

********************************************************************************

  June, 1 2012, 19:30
  deviceServiceVersion = 1013104

  [+] Added parameter in jpos.xml file maxReceiptNumber.
      By default maxReceiptNumber=9999.

********************************************************************************

  April, 5 2012, 15:20
  deviceServiceVersion = 1013103

  [-] Fixed error with USB to serial converter under Windows 7

********************************************************************************

  February, 24 2012, 18:00
  deviceServiceVersion = 1013102

  [+] Added SHTRIH-M-PTK fiscal printer support

********************************************************************************

  January, 13 2012, 16:00
  deviceServiceVersion = 1013101

  [-] Fixed error with shared serial port.
      Serial port is shared between all service objects.

********************************************************************************

  December, 20 2011, 19:00
  deviceServiceVersion = 1013100

  [-] Fixed error with negative amount
  [+] Added saving ZReport data in CSV file format

********************************************************************************

  November, 11 2011, 17:40
  deviceServiceVersion = 1013098

  [-] Fixed error with fiscal printer communication

********************************************************************************

  November, 11 2011, 15:00
  deviceServiceVersion = 1013097

  [-] Fixed error with XML ZReport processing.

********************************************************************************

  November, 7 2011, 13:30
  deviceServiceVersion = 1013096

  [-] Fixed error with directIO request SMFPTR_DIO_READ_DAY_END.
      Only long status request is used to get fiscal day status.

********************************************************************************

  October 11 2011, 12:30
  deviceServiceVersion = 1013095

  [-] Fixed error with getData(FPTR_GD_RECEIPT_NUMBER) request. 
      Receipt number will be return as increased value if receipt 
      closed in driver but not yet closed in fiscal printer.

********************************************************************************

  September 30 2011, 13:30
  deviceServiceVersion = 1013094

  [-] Fixed error with string encoding

********************************************************************************

  September 29 2011, 20:40
  deviceServiceVersion = 1013093

  [-] Fixed error with string encoding

********************************************************************************

  September 27 2011, 20:40
  deviceServiceVersion = 1013092

  [-] Fixed error with string encoding

********************************************************************************

  September 14 2011, 12:20
  deviceServiceVersion = 1013091

  [-] Fixed error with image printing

********************************************************************************

  September 13 2011, 21:20
  deviceServiceVersion = 1013090

  [-] Fixed error with graphics printing

********************************************************************************

  August 24 2011, 13:00
  deviceServiceVersion = 1013089

  [-] Fixed error with character encoding
  [-] Fixed error with extra status update events

********************************************************************************

  June 07 2011, 22:30
  deviceServiceVersion = 1013088

  [-] Fixed errors with CheckHealth method

********************************************************************************

  11 March 2011, 15:30
  deviceServiceVersion = 1013087

  [-] Fixed errors with text parsing

********************************************************************************

  10 March 2011, 18:00
  deviceServiceVersion = 1013086

  [-] Fixed error with model SHTRIH-COMBO-FR-K

********************************************************************************

  10 March 2011, 17:00
  deviceServiceVersion = 1009086

  [-] Fixed error with receipt payments

********************************************************************************

  9 March 2011, 21:00
  deviceServiceVersion = 1013085

  [-] Fixed error with model SHTRIH-COMBO-FR-K

********************************************************************************

  4 March 2011, 20:30
  deviceServiceVersion = 1009084

  [-] Fixed error with header font
  [-] Fixed error with space lines

********************************************************************************

  24 February 2011, 15:00
  deviceServiceVersion = 1009083

  [+] Created version for Java 1.3.1_b18

********************************************************************************

  28 January 2011, 13:00
  deviceServiceVersion = 1009081

  [+] Added XML ZReport

********************************************************************************

  14 January 2011, 15:00
  deviceServiceVersion = 1013080

  [-] Added zero price filter. Parameters are stored in jpos.xml.

      <prop name="ZeroPriceFilterEnabled" type="String" value="1"/>
        
      <prop name="ZeroPriceFilterTime1" type="String" value="22:00"/>
        
      <prop name="ZeroPriceFilterTime2" type="String" value="11:00"/>
        
      <prop name="ZeroPriceFilterErrorText" type="String" value="Zero price disabled"/>


      ZeroPriceFilterEnabled   - enables or disables filter.
      ZeroPriceFilterTime1     - start time for the filter.
      ZeroPriceFilterTime2     - end time for the filter.
      ZeroPriceFilterErrorText - error message for application

********************************************************************************

  22 December 2010, 15:00
  deviceServiceVersion = 1013079

  [-] Fixed error in EndFiscalReceipt method
      Exception was thrown from EndFiscalReceipt method 
      when some error was occured after receipt closed.
      Now exceptions receipt closed are swallowed.

********************************************************************************

  16 December 2010, 16:00
  deviceServiceVersion = 1013078

  [-] Fixed error in EndFiscalReceipt method

********************************************************************************

  14 December 2010, 17:00
  deviceServiceVersion = 1013077

  [-] Fixed error graphics printing

********************************************************************************

  15 October 2010, 12:30
  deviceServiceVersion = 1013076

  [-] Fixed error with StatusUpdateEvent
  [+] Added automatic receipt reprinting after paper error

********************************************************************************

  8 October 2010, 18:30
  deviceServiceVersion = 1013075

  [+] Added command repeating

********************************************************************************

  17 September 2010, 14:30
  deviceServiceVersion = 1013074

  [+] Added error handler to fire status update events

********************************************************************************

  17 September 2010, 12:40
  deviceServiceVersion = 1013073

  [+] Added value 2, for parameter "statusCommand", SMFP_STATUS_COMMAND_DS = 2.
      Status command will be selected by driver.

********************************************************************************

  10 September 2010, 16:00
  deviceServiceVersion = 1013072

  [-] Fixed error with printing empty lines.

********************************************************************************

  10 September 2010, 13:00
  deviceServiceVersion = 1013071

  [-] Fixed error with printing empty lines.

********************************************************************************

  10 September 2010, 11:30
  deviceServiceVersion = 1013070

  [-] Fixed error with printing empty lines.

********************************************************************************

  9 September 2010, 16:30
  deviceServiceVersion = 1013069

  [-] Fixed error with java.util.PropertyResourceBundle

********************************************************************************

  7 September 2010, 12:30
  deviceServiceVersion = 1013068

  [+] Compiled with Java 5.0

********************************************************************************

  15 July 2010, 19:00
  deviceServiceVersion = 1013067

  [-] Fixed errors

********************************************************************************

  14 July 2010, 14:40
  deviceServiceVersion = 1013066

  [+] Added printer models

********************************************************************************

  12 July 2010, 14:00
  deviceServiceVersion = 1013065

  [+] Added error code JPOS_EFPTR_DAY_END_REQUIRED to setDate method

********************************************************************************

  9 July 2010, 17:00
  deviceServiceVersion = 1013064

  [+] Added messages localization

********************************************************************************

  29 June 2010, 11:30
  deviceServiceVersion = 1013063

  [-] Changed error codes and messages

********************************************************************************

  14 May 2010, 15:00
  deviceServiceVersion = 1013062

  [+] Added parameter statusCommand. Values: 0 - 10h, 1 - 11h.
  [+] Implemented DirectIO codes SMFPTR_DIO_COMMAND and SMFPTR_DIO_STRCOMMAND

********************************************************************************

  28 April 2010, 17:00
  deviceServiceVersion = 1013061

  [+] Added receipt type FPTR_RT_REFUND

********************************************************************************

  26 April 2010, 13:30
  deviceServiceVersion = 1013060

  [+] Implemented JavaPOS version 1.13

********************************************************************************

  14 April 2010, 21:00
  deviceServiceVersion = 1009059

  [-] Fixed error with setDate method

********************************************************************************

  14 April 2010, 17:30
  deviceServiceVersion = 1009058

  [-] Fixed error with logging driver properties

********************************************************************************

  14 April 2010, 12:00
  deviceServiceVersion = 1009057

  [-] Fixed error with cover opened status update event

********************************************************************************

  08 April 2010, 19:30
  deviceServiceVersion = 1009056

  [+] Added fiscal printer status processing code

********************************************************************************

  1 April 2010, 19:00
  deviceServiceVersion = 1009055

  [+] Changed barcode printing for "SHTRIH-FR-K" fiscal printer

********************************************************************************

  11 March 2010, 19:30
  deviceServiceVersion = 1009054

  [+] Added DirectIO codes to read cash and operation registers

********************************************************************************

  10 March 2010, 17:30
  deviceServiceVersion = 1009053

  [+] Corrected text printing

********************************************************************************

  04 March 2010, 22:50
  deviceServiceVersion = 1009052

  [+] Corrected Code39 printing

********************************************************************************

  04 March 2010, 22:00
  deviceServiceVersion = 1009051

  [+] Added DirectIO codes

********************************************************************************

  26 November 2009, 16:30
  deviceServiceVersion = 1009050

  [+] Changed FptrTest utility - added table commands.

********************************************************************************

  23 November 2009, 22:00
  deviceServiceVersion = 1009049

  [+] Added parameters in jpos.xml file: numHeaderLines, numTrailerLines
      numHeaderLines - number of header lines to print. This number cannot
      be less than minimum header line number for fiscal printer (usually 4).
      numTrailerLines - number of trailer lines to print. This number can be zero.

********************************************************************************

  23 November 2009, 15:00
  deviceServiceVersion = 1009048

  [+] Fixed error with voided items

********************************************************************************

  20 November 2009, 17:00
  deviceServiceVersion = 1009047

  [+] Added command line utility FptrTest

********************************************************************************

  19 November 2009, 12:30
  deviceServiceVersion = 1009046

  [-] Changed tables reading and writing to CSV file in UTF-8 encoding

********************************************************************************

  17 November 2009, 21:00
  deviceServiceVersion = 1009045

  [+] Added automatic tables writing from CSV file

********************************************************************************

  16 November 2009, 23:00
  deviceServiceVersion = 1009044

  [-] printRecMessage bug fixed. Some lines was not cleared and 
      was printed on next receipt.

  [+] Added direct IO codes for selecting device for printReport and 
      printPeriodicTotalsReport methods

********************************************************************************

  12 November 2009, 17:30
  deviceServiceVersion = 1009043

  [+] Corrected problem with russian characters
  [+] Increased print speed
  [+] Added image and logo loading and printing (see test)

********************************************************************************

  10 November 2009, 15:00
  deviceServiceVersion = 1009042

  [+] Added default string encoding read from property "sun.jnu.encoding"

********************************************************************************

  05 November 2009, 19:20
  deviceServiceVersion = 1009041

  [+] Added DirectIO code FPTR_DIO_READ_DAY_END

********************************************************************************

  29 October 2009, 20:00
  deviceServiceVersion = 1009040

  [-] Corrected write table and write payment names 

********************************************************************************

  26 October 2009, 11:00
  deviceServiceVersion = 1009039

  [+] Added DirectIO codes for read/write tables

  [+] Added DirectIO codes for read/write payment names 

  [+] Added automatic payment names writing on device initialization.
      Payment names are defined in jpos.xml file

********************************************************************************

  15 October 2009, 13:40
  deviceServiceVersion = 1009038

  [-] Fixed error with receipt double cutting 
  [-] Fixed error with printing trailer on reports

********************************************************************************

  13 October 2009, 13:40
  deviceServiceVersion = 1009037

  [-] Fixed error with additionalTrailer

********************************************************************************

  12 October 2009, 12:00
  deviceServiceVersion = 1009036

  [+] Added SetPOSID method support
  [+] Added printRecItem and printRecRefund methods
  [-] Fixed error with StatusUpdateEvent, IDLE
  [+] Added additionalTrailer support

********************************************************************************

  April, 10 2008 21:00
  deviceServiceVersion = 1009016

  [-] Fixed error in method printRecTotal.

********************************************************************************

  April, 10 2007, 17:00
  deviceServiceVersion = 1009015

  [-] Fixed error in method printRecSubtotal.

********************************************************************************

  April, 7 2007, 11:05
  deviceServiceVersion = 1009014

  [*] Changed library log4j-1.2.12.jar instead of log4j-1.2.15.jar

********************************************************************************

  April, 4 2007, 13:10
  deviceServiceVersion = 1009013

  [-] Fixed text encoding error in method printRecItem

********************************************************************************

  April, 3 2007, 15:10
  deviceServiceVersion = 1009012

  [-] Fixed text encoding errors

********************************************************************************

  April, 2 2007, 16:40
  deviceServiceVersion = 1009011

  [-] Fixed text encoding errors

********************************************************************************

  September, 26 2007 15:40
  deviceServiceVersion = 1009001

  [ ] First version

********************************************************************************
